(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{147:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return d})),n.d(e,"metadata",(function(){return l})),n.d(e,"toc",(function(){return h})),n.d(e,"default",(function(){return p}));var s=n(3),a=n(7),o=(n(0),n(153)),r=n(156);var i=n.n(r)()("\n<h1>NAME</h1>\n<p>lstart - start a netkit lab</p>\n<h1>SYNOPSIS</h1>\n<p><strong>lstart</strong> [options] [<em>MACHINE-NAME</em>...]</p>\n<p><strong>lrestart</strong> [options] [<em>MACHINE-NAME</em>...]</p>\n<h1>DESCRIPTION</h1>\n<p>In order to ease setting up complex network experiences with Netkit it is possible to completely describe them into special configuration files, so that the experience can later be started with a single command as if it were a virtual network ''laboratory''.</p>\n<p>The <em>lstart</em> command can be used to achieve this purpose. In particular, it starts a set of virtual machines that are part of a Netkit lab and configures them according to the parameters contained in the lab description. There is no difference between <em>lstart</em> and <em>lrestart</em>. The latter is just provided for backward compatibility.<br />\nBy default, all the virtual machines that make up the lab are started. If a list of <em>MACHINE-NAME</em>s is provided, then only virtual machines with a matching name <em>and</em> that are part of the lab are started.</p>\n<p>The configuration of a Netkit lab consists of some files and directories whose names, locations and contents are described in the page <strong>lab.conf</strong>(5).</p>\n<p>The following options are supported by <em>lstart</em>:</p>\n<dl>\n<dt><strong>-d <em>DIRECTORY</em></strong></dt>\n<dd><p>Start the Netkit lab that is located inside <em>DIRECTORY</em>. If no <strong>-d</strong> option is provided, <em>lstart</em> assumes that the lab is located in the current directory. The path to the lab directory (being that the current directory or one provided by <strong>-d</strong>) must never contain spaces.</p>\n</dd>\n</dl>\n<p>Note that, in order to avoid starting undesired virtual machines, <em>lstart</em> checks whether the current directory (or the directory specified with <strong>-d</strong>) contains at least a ''lab.conf'' or a ''lab.dep'' file, and refuses to start the lab if none of these file exists. See option <strong>-F</strong> below for disabling this behavior.</p>\n<dl>\n<dt><strong>-F</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--force-lab</strong></dt>\n<dd><p>As a native behaviour, Netkit starts a virtual machine for each directory that it finds in a designed path, by default the current directory. In order to prevent the user from accidentally starting random virtual machines from a directory that does not contain a lab, lstart requires the presence of at least a ''lab.conf'' or a ''lab.dep'' file in the affected directory. If these files are not required for your setting, and you still want to launch your lab without creating either one, you can use option <strong>-F</strong> or</p>\n</dd>\n</dl>\n<p><strong>--force-lab</strong></p>\n<p>to convince Netkit that a certain directory is indeed a lab.</p>\n<dl>\n<dt><strong>-f</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--fast</strong></dt>\n<dd><p><em>lstart</em> always waits for a virtual machine to complete its boot phase before launching the next one. This option disables this behaviour, and allows to launch several virtual machines at once.<br />\nThis option has no effect if parallel startup is being used and is not impacted by the <strong>-p</strong> option.</p>\n</dd>\n</dl>\n<dl>\n<dt><strong>--tmux-attached</strong></dt>\n<dd><p>Run each VM in a tmux session and start a terminal attached to this tmux session. This is the same as setting USE_TMUX=TRUE and TMUX_OPEN_TERMS=TRUE in netkit.conf</p>\n</dd>\n</dl>\n<dl>\n<dt><strong>--tmux-detached</strong></dt>\n<dd><p>Run each VM in a tmux session without opening any terminals. This is the same as setting USE_TMUX=TRUE and TMUX_OPEN_TERMS=FALSE in netkit.conf</p>\n</dd>\n<dt><strong>-l</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--list</strong></dt>\n<dd><p>Show a list of currently running virtual machines after the lab has been started up. This is useful to check whether all the hosts are up and running. Notice that, when the <strong>-f</strong> (or <strong>--fast</strong>) option is being used, <em>lstart</em> does not wait for all the virtual machines of the lab to start up before printing this list, resulting in a possibly incomplete report. Hence, it is advised not to use <strong>-l</strong> (or <strong>--list</strong>) together with <strong>-f</strong> (or <strong>--fast</strong>).</p>\n</dd>\n<dt><strong>-o <em>OPTION</em></strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--pass=<em>OPTION</em></strong></dt>\n<dd><p><em>lstart</em> acts as a frontend to <strong>vstart</strong> (see <strong>vstart</strong>(1)). This option allows to pass an <em>OPTION</em> unaltered to every invocation of <strong>vstart</strong>. This means that all the virtual machines of the lab will be launched with option <em>OPTION</em>. <em>OPTION</em> should be specified exactly as it would be on the <strong>vstart</strong> command line, but always make sure that space characters are quoted (e.g., '-fdummy.disk' or '--append=debug' are ok, '-M 32' should be written as either '-M32' or '\"-M 32\"').</p>\n</dd>\n<dt><strong>-p[<em>VALUE</em><strong>]</strong></strong></dt>\n<dd><p>Parallel startup is a special startup mode that allows to simultaneously boot several virtual machines. It is automatically enabled whenever a 'lab.dep' file is found to exist inside the lab directory. This option forces parallel startup, even if the 'lab.dep' file does not exist. In order to limit the load on your host, this option also allows to set a maximum number of virtual machines that at any time instant can be simultaneously booting. <em>VALUE</em> must be a positive integer. A <em>VALUE</em> of 0 corresponds to setting no limit. If no VALUE is provided, the default configured inside <em>netkit.conf</em> is assumed (see <strong>netkit.conf</strong>(5)).<br />\nThis option conflicts with <strong>-s</strong> (or <strong>--sequential</strong>).</p>\n</dd>\n</dl>\n<p>This option overrides the default value of MAX_SIMULTANEOUS_VMS inside <em>netkit.conf</em> (see <strong>netkit.conf</strong>(5)).</p>\n<p><strong>Notice</strong>: parallel startup requires that the <strong>make</strong> utility is properly installed on your system.</p>\n<dl>\n<dt><strong>-s</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--sequential</strong></dt>\n<dd><p>Disable parallel startup, even if a 'lab.dep' file is found to exist in the lab directory. This option is useful when you just want to launch specific virtual machines. In fact, if you just provide their <em>MACHINE-NAME</em>s on the command line, <em>lstart</em> would still attempt to satisfy the dependencies, and this may result in starting other undesired virtual machines.<br />\nThis option cannot be used together with <strong>-p</strong>.</p>\n</dd>\n<dt><strong>-w <em>SECONDS</em></strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--wait=<em>SECONDS</em></strong></dt>\n<dd><p>Wait for the specified amount of time before launching the next virtual machine. This option is always enforced, but it just becomes handy (for example, to reduce the load on the host machine) when using either <strong>-f</strong> (or <strong>--fast</strong>) or parallel startup.</p>\n</dd>\n</dl>\n<p>This option overrides the default value of GRACE_TIME inside <em>netkit.conf</em> (see <strong>netkit.conf</strong>(5)).</p>\n<p>The following standard options are also supported.</p>\n<dl>\n<dt><strong>-h</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--help</strong></dt>\n<dd><p>Show usage information.</p>\n</dd>\n<dt><strong>-v</strong></dt>\n<dd>\n</dd>\n</dl>\n<dl>\n<dt><strong>--verbose</strong></dt>\n<dd><p>Show details about virtual machines while starting them.</p>\n</dd>\n<dt><strong>--version</strong></dt>\n<dd><p>Print information about the installed Netkit release and the host kernel version and exit. If ''<em>&lt;unavailable&gt;</em>'' is printed instead of a version number, then the corresponding information could not be retrieved (for example because a non-standard Netkit kernel or filesystem is being used).</p>\n</dd>\n</dl>\n<h1>FILES</h1>\n<p>Apart from the lab configuration files, running a lab requires creating some temporary files inside the current directory (i.e., the one the <em>lstart</em> command is executed from) as well as inside the lab directory. Such files are:</p>\n<dl>\n<dt><em>./<em>machine</em>.ready</em></dt>\n<dd><p>These files are created by <em>lstart</em> and are used to synchronize virtual machines when they are started. These files are automatically deleted when all the machines in the lab have properly started up. Yet, sometimes (e.g., when a virtual machine crashes in the boot phase) there may be '.ready' files left in the current directory even after the lab has been stopped. In this case you have to launch <strong>lclean</strong> (see <strong>lclean</strong>(1)) to get rid of them before the lab can be restarted.</p>\n</dd>\n<dt><em>./<em>machine</em>.disk</em></dt>\n<dd><p>This is the COW filesystem for virtual machine <em>machine</em>. These files are automatically removed when the lab is crashed with <strong>lcrash</strong> (see <strong>lcrash</strong>(1)), so that virtual machines can revert to their original state when the lab is restarted. If you want to preserve .disk files, use the <strong>-F</strong> (or <strong>--keep-fs</strong>) option of <strong>lcrash</strong>. On the other hand, <strong>lhalt</strong>(1) (see <strong>lhalt</strong>(1)) never removes .disk files, unless explicitly told to do it (with the <strong>-r</strong> or <strong>--remove-fs</strong> option).</p>\n</dd>\n</dl>\n<p>See the README in the Netkit filesystem package for more information about COW filesystems.</p>\n<dl>\n<dt><em><em>lab-path</em>/readyfor.test</em></dt>\n<dd><p>This file is automatically created by <strong>ltest</strong> (see <strong>ltest</strong>(1)). It is used to ensure that the status of running virtual machines is only retrieved when they have all completed their boot phase.</p>\n</dd>\n</dl>\n<h1>NOTES</h1>\n<p><em>lstart</em> is essentially a wrapper for <strong>vstart</strong>. Hence, if something goes wrong, try to investigate the parameters used in the invocation of <strong>vstart</strong> (they are reported in the <em>lstart</em> output) and read the <strong>vstart</strong>(1) documentation.</p>\n<h1>SEE ALSO</h1>\n<p><em>lab.conf</em>(5), <em>lclean</em>(1), <em>lhalt</em>(1), <em>lcrash</em>(1), <em>linfo</em>(1), <em>ltest</em>(1), <em>make</em>(1), <em>vstart</em>(1), <em>netkit.conf</em>(5), Netkit filesystem README.</p>\n<h1>AUTHOR</h1>\n<p><em>lstart</em> script: Stefano Pettini, Fabio Ricci, Massimo Rimondini<br />\nThis man page: Fabio Ricci, Massimo Rimondini</p>\n<h1>REPORTING BUGS</h1>\n<p>Report bugs to the Github issues page: https://github.com/netkit-jh/netkit-jh-build/issues</p>\n<p>Please follow the recommended templates when reporting bugs.</p>\n"),d={id:"netkit-manpage-lstart",title:"lstart - manpage",sidebar_label:"lstart",custom_edit_url:"https://github.com/netkit-jh/netkit-jh-build/tree/master/core/man",keywords:["netkit","netkit-jh","manpage","man","lstart"]},l={unversionedId:"man/netkit-manpage-lstart",id:"man/netkit-manpage-lstart",isDocsHomePage:!1,title:"lstart - manpage",description:"{html}",source:"@site/docs/man/lstart.md",slug:"/man/netkit-manpage-lstart",permalink:"/docs/man/netkit-manpage-lstart",editUrl:"https://github.com/netkit-jh/netkit-jh-build/tree/master/core/man",version:"current",sidebar_label:"lstart",sidebar:"docsSidebar",previous:{title:"lrestart - manpage",permalink:"/docs/man/netkit-manpage-lrestart"},next:{title:"ltest - manpage",permalink:"/docs/man/netkit-manpage-ltest"}},h=[],m={toc:h};function p(t){var e=t.components,n=Object(a.a)(t,["components"]);return Object(o.b)("wrapper",Object(s.a)({},m,n,{components:e,mdxType:"MDXLayout"}),Object(o.b)("div",null,i))}p.isMDXComponent=!0},157:function(t,e){}}]);